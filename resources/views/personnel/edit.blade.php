<x-app-layout>
    <x-slot name="header"><h1 class="text-xl font-semibold text-gray-800">แก้ไขข้อมูลบุคลากร</h1></x-slot>
    <div class="flex items-center gap-2 text-sm text-gray-500 mb-6"><a href="{{ route('personnel.index') }}" class="hover:text-navy-600">รายชื่อข้าราชการ</a><i data-lucide="chevron-right" class="w-4 h-4"></i><span class="text-gray-800">แก้ไข</span></div>
    <div class="card max-w-4xl"><div class="card-header"><h3 class="text-lg font-semibold text-gray-800">แก้ไขข้อมูลบุคลากร</h3></div><div class="card-body"><form action="{{ route('personnel.update', $personnel) }}" method="POST" enctype="multipart/form-data">@csrf @method('PUT')<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">รหัสพนักงาน <span class="text-red-500">*</span></label><input type="text" name="employee_id" value="{{ old('employee_id', $personnel->employee_id) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ยศ</label><input type="text" name="rank" value="{{ old('rank', $personnel->rank) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ชื่อ <span class="text-red-500">*</span></label><input type="text" name="first_name" value="{{ old('first_name', $personnel->first_name) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div><label class="block text-sm font-medium text-gray-700 mb-2">นามสกุล <span class="text-red-500">*</span></label><input type="text" name="last_name" value="{{ old('last_name', $personnel->last_name) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ตำแหน่ง</label><input type="text" name="position" value="{{ old('position', $personnel->position) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">หน่วยงาน</label><input type="text" name="department" value="{{ old('department', $personnel->department) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">เบอร์โทร</label><input type="text" name="phone" value="{{ old('phone', $personnel->phone) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">อีเมล</label><input type="email" name="email" value="{{ old('email', $personnel->email) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">วันที่เริ่มงาน</label><input type="date" name="hire_date" value="{{ old('hire_date', $personnel->hire_date?->format('Y-m-d')) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">สถานะ <span class="text-red-500">*</span></label><select name="status" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required><option value="active" {{ old('status', $personnel->status) == 'active' ? 'selected' : '' }}>ปฏิบัติงาน</option><option value="inactive" {{ old('status', $personnel->status) == 'inactive' ? 'selected' : '' }}>พ้นหน้าที่</option><option value="retired" {{ old('status', $personnel->status) == 'retired' ? 'selected' : '' }}>เกษียณ</option></select></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2">รูปภาพ</label>@if($personnel->photo_path)<div class="mb-2 flex items-center gap-4"><img src="{{ Storage::url($personnel->photo_path) }}" alt="" class="w-16 h-16 rounded-lg object-cover"><span class="text-sm text-gray-600">รูปปัจจุบัน</span></div>@endif<input type="file" name="photo" accept=".jpg,.jpeg,.png" class="w-full px-4 py-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-navy-50 file:text-navy-700"></div></div><div class="flex items-center justify-end gap-3 mt-8 pt-6 border-t border-gray-200"><a href="{{ route('personnel.index') }}" class="px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">ยกเลิก</a><button type="submit" class="inline-flex items-center gap-2 px-6 py-2.5 bg-navy-700 text-white rounded-lg hover:bg-navy-800 font-medium"><i data-lucide="save" class="w-5 h-5"></i>บันทึก</button></div></form></div></div>
</x-app-layout>
