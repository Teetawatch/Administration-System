<x-app-layout>
    <x-slot name="header"><h1 class="text-xl font-semibold text-gray-800">แก้ไขคำสั่งโรงเรียน (เฉพาะ)</h1></x-slot>
    <div class="flex items-center gap-2 text-sm text-gray-500 mb-6"><a href="{{ route('special-orders.index') }}" class="hover:text-navy-600">คำสั่งโรงเรียน (เฉพาะ)</a><i data-lucide="chevron-right" class="w-4 h-4"></i><span class="text-gray-800">แก้ไข</span></div>
    <div class="card max-w-4xl"><div class="card-header"><h3 class="text-lg font-semibold text-gray-800">แก้ไขข้อมูลคำสั่ง</h3></div><div class="card-body"><form action="{{ route('special-orders.update', $specialOrder) }}" method="POST" enctype="multipart/form-data">@csrf @method('PUT')<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">เลขที่คำสั่ง <span class="text-red-500">*</span></label><input type="text" name="order_number" value="{{ old('order_number', $specialOrder->order_number) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div><label class="block text-sm font-medium text-gray-700 mb-2">วันที่ <span class="text-red-500">*</span></label><input type="date" name="order_date" value="{{ old('order_date', $specialOrder->order_date?->format('Y-m-d')) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2">เรื่อง <span class="text-red-500">*</span></label><input type="text" name="subject" value="{{ old('subject', $specialOrder->subject) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required></div><div><label class="block text-sm font-medium text-gray-700 mb-2">วันที่มีผลบังคับ</label><input type="date" name="effective_date" value="{{ old('effective_date', $specialOrder->effective_date?->format('Y-m-d')) }}" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">สถานะ <span class="text-red-500">*</span></label><select name="status" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg" required><option value="draft" {{ old('status', $specialOrder->status) == 'draft' ? 'selected' : '' }}>ฉบับร่าง</option><option value="active" {{ old('status', $specialOrder->status) == 'active' ? 'selected' : '' }}>บังคับใช้</option><option value="cancelled" {{ old('status', $specialOrder->status) == 'cancelled' ? 'selected' : '' }}>ยกเลิก</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ไฟล์แนบ</label>@if($specialOrder->attachment_path)<div class="mb-2 p-2 bg-gray-50 rounded flex items-center justify-between text-sm"><span>ไฟล์ปัจจุบัน</span><a href="{{ Storage::url($specialOrder->attachment_path) }}" target="_blank" class="text-navy-600">ดูไฟล์</a></div>@endif<input type="file" name="attachment" class="w-full px-4 py-2 border border-gray-300 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-navy-50 file:text-navy-700"></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2">เนื้อหา</label><textarea name="content" rows="4" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg">{{ old('content', $specialOrder->content) }}</textarea></div></div><div class="flex items-center justify-end gap-3 mt-8 pt-6 border-t border-gray-200"><a href="{{ route('special-orders.index') }}" class="px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium">ยกเลิก</a><button type="submit" class="inline-flex items-center gap-2 px-6 py-2.5 bg-navy-700 text-white rounded-lg hover:bg-navy-800 font-medium"><i data-lucide="save" class="w-5 h-5"></i>บันทึก</button></div></form></div></div>
</x-app-layout>
    